{% load socialaccount %}

<input type="checkbox" id="auth-modal" class="modal-toggle" />
<div class="modal">
  <div class="modal-box max-w-md">
    <h3 class="text-xl font-bold mb-4 text-center">Welcome</h3>

    <!-- Tabs -->
    <div class="flex justify-center mb-4">
      <button id="login-tab" class="tab tab-lifted tab-active mr-2">Login</button>
      <button id="signup-tab" class="tab tab-lifted">Sign Up</button>
    </div>

    <!-- Login Form -->
    <div id="login-form">
      <form method="post" action="{% url 'account_login' %}">
        {% csrf_token %}
        <div class="mb-3">
          <input type="text" name="login" placeholder="Username or Email" class="input input-bordered w-full" required />
        </div>
        <div class="mb-3">
          <input type="password" name="password" placeholder="Password" class="input input-bordered w-full" required />
        </div>
        <button type="submit" class="btn bg-molten-gold text-charcoal-black w-full mb-3">Login</button>
      </form>

      <!-- Social Logins -->
      <div class="flex flex-col gap-2">
        <a href="{% provider_login_url 'google' %}" class="btn btn-outline btn-primary w-full">Continue with Google</a>
        <a href="{% provider_login_url 'facebook' %}" class="btn btn-outline btn-blue w-full">Continue with Facebook</a>
        <a href="{% provider_login_url 'twitter' %}" class="btn btn-outline btn-gray w-full">Continue with X</a>
      </div>
    </div>

    <!-- Signup Form -->
    <div id="signup-form" class="hidden">
      <form method="post" action="{% url 'account_signup' %}">
        {% csrf_token %}
        <div class="mb-3">
          <input type="text" name="username" placeholder="Username" class="input input-bordered w-full" required />
        </div>
        <div class="mb-3">
          <input type="email" name="email" placeholder="Email" class="input input-bordered w-full" required />
        </div>
        <div class="mb-3">
          <input type="password" name="password1" placeholder="Password" class="input input-bordered w-full" required />
        </div>
        <div class="mb-3">
          <input type="password" name="password2" placeholder="Confirm Password" class="input input-bordered w-full" required />
        </div>
        <button type="submit" class="btn bg-molten-gold text-charcoal-black w-full mb-3">Sign Up</button>
      </form>

      <!-- Social Signups -->
      <div class="flex flex-col gap-2">
        <a href="{% provider_login_url 'google' %}" class="btn btn-outline btn-primary w-full">Sign up with Google</a>
        <a href="{% provider_login_url 'facebook' %}" class="btn btn-outline btn-blue w-full">Sign up with Facebook</a>
        <a href="{% provider_login_url 'twitter' %}" class="btn btn-outline btn-gray w-full">Sign up with X</a>
      </div>
    </div>

    <div class="modal-action">
      <label for="auth-modal" class="btn">Close</label>
    </div>
  </div>
</div>
