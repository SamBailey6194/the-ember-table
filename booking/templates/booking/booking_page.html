{% extends "base.html" %}
{% block content %}

<!-- Top section -->
<section class="relative overflow-hidden">
  <div class="absolute inset-0 bg-fire-gradient bg-size-200 animate-gradientMove z-0"></div>

  <div class="mx-auto mt-4 px-4 py-20 text-center relative z-10">
    <h1 class="text-5xl md:text-6xl font-bold mb-6 text-[var(--ember-base)]">
      Book
      <span class="text-[var(--ember-highlight)] text-outline-shadow" style="--outline-color: var(--ember-base)">
        Now
      </span>
    </h1>

    <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto text-[var(--ember-base)]">
      Once youâ€™re signed up and logged in, you can quickly check availability
      and secure your booking in just a few clicks!
    </p>

    {% if user.is_authenticated %}
    <button type="button" class="btn w-32 mx-auto mt-3 font-semibold shadow-lg
                     text-[var(--ember-accent)] bg-[var(--ember-base)]
                     hover:bg-[var(--ember-accent)] hover:text-[var(--ember-base)]"
      onclick="document.getElementById('make-booking-modal').showModal()">
      Book
    </button>
    {% else %}
    {% include "includes/auth_buttons.html" with extra_classes="mt-4" next_url=request.get_full_path %}
    {% endif %}
  </div>
</section>

<!-- Bottom section -->
<section class="relative overflow-hidden mx-auto py-10 px-10">
  <div class="mx-auto px-4 lg:px-20 xl:px-28 2xl:px-48">
    {% if user.is_authenticated %}
    <div class="grid md:grid-cols-2 gap-8">

      <!-- Booking card -->
      <div class="p-6 rounded-lg shadow-md hover:shadow-xl transition flex flex-col
                    bg-[var(--ember-neutral)] text-[var(--ember-base)]">
        <div class="flex-grow">
          <h3 class="text-xl font-bold mb-3 text-[var(--ember-accent)]">Book a Table</h3>
          <p>
            Reserve your preferred time and table quickly and easily using our booking form below.
          </p>
        </div>
        <button type="button" class="btn w-32 mx-auto mt-3 font-semibold shadow-lg
                         text-[var(--ember-accent)] bg-[var(--ember-base)]
                        hover:bg-[var(--ember-accent)] hover:text-[var(--ember-base)]"
          onclick="document.getElementById('make-booking-modal').showModal()">
          Book
        </button>
      </div>

      <!-- Manage booking card -->
      <div class="p-6 rounded-lg shadow-md hover:shadow-xl transition flex flex-col
                    bg-[var(--ember-neutral)] text-[var(--ember-base)]">
        <div class="flex-grow">
          <h3 class="text-xl font-bold mb-3 text-[var(--ember-accent)]">Manage Booking</h3>
          <p>
            Access your bookings, update or cancel your reservations, and manage your account efficiently through your
            Members Dashboard.
          </p>
        </div>
        <a href="{% url 'user:members_dashboard' %}" class="btn w-32 mx-auto mt-3 font-semibold shadow-lg
                     text-[var(--ember-accent)] bg-[var(--ember-base)]
                     hover:bg-[var(--ember-accent)] hover:text-[var(--ember-base)]">
          Dashboard
        </a>
      </div>

    </div>
    {% else %}
    <div class="flex justify-center">
      <div class="max-w-md w-full text-center p-6 rounded-lg shadow-md hover:shadow-xl transition
                    bg-[var(--ember-neutral)] text-[var(--ember-base)]">
        <h3 class="text-2xl font-semibold mb-2 text-[var(--ember-accent)]">Members Club</h3>
        <p class="mb-6">
          Join our Members Club to access exclusive deals, manage your bookings,
          and enjoy special perks designed to make every visit exceptional. Sign
          up or login below to start enjoying the benefits today.
        </p>
        {% include "includes/auth_buttons.html" with extra_classes="mt-3" next_url=request.get_full_path %}
      </div>
    </div>
    {% endif %}

    {% include "includes/make_booking_modal.html" %}
  </div>
</section>

{% endblock %}